/**
 * Mock Data for Simulation Mode
 * This provides sample data to test the UI without blockchain/indexer
 */

import { Project, ProjectStats } from '@/types/project';
import { Ticket, TicketStatus, TicketPriority } from '@/types/ticket';
import { ProjectMember, MemberRole, User } from '@/types/user';

// Mock users
export const mockUsers: User[] = [
  {
    id: 'user-1',
    address: '0x1234567890abcdef1234567890abcdef12345678',
    username: 'Alice',
    avatar: '',
    createdAt: new Date().toISOString(),
  },
  {
    id: 'user-2',
    address: '0xabcdef1234567890abcdef1234567890abcdef12',
    username: 'Bob',
    avatar: '',
    createdAt: new Date().toISOString(),
  },
  {
    id: 'user-3',
    address: '0x9876543210fedcba9876543210fedcba98765432',
    username: 'Charlie',
    avatar: '',
    createdAt: new Date().toISOString(),
  },
];

// Mock projects
export const mockProjects: Project[] = [
  {
    id: 'project-1',
    objectId: 'project-1',
    name: 'DeFi Protocol',
    description: 'Building a decentralized finance protocol on Sui blockchain',
    creator: '0x1234567890abcdef1234567890abcdef12345678',
    createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
    membersCount: 3,
    ticketsCount: 8,
  },
  {
    id: 'project-2',
    objectId: 'project-2',
    name: 'NFT Marketplace',
    description: 'A marketplace for trading unique digital assets',
    creator: '0x1234567890abcdef1234567890abcdef12345678',
    createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
    membersCount: 2,
    ticketsCount: 5,
  },
  {
    id: 'project-3',
    objectId: 'project-3',
    name: 'Web3 Social Network',
    description: 'Decentralized social media platform with tokenized content',
    creator: '0x1234567890abcdef1234567890abcdef12345678',
    createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
    membersCount: 4,
    ticketsCount: 12,
  },
];

// Mock project members
export const mockProjectMembers: { [projectId: string]: ProjectMember[] } = {
  'project-1': [
    {
      id: 'member-1',
      userId: 'user-1',
      projectId: 'project-1',
      role: MemberRole.ADMIN,
      user: mockUsers[0],
      joinedAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'member-2',
      userId: 'user-2',
      projectId: 'project-1',
      role: MemberRole.MEMBER,
      user: mockUsers[1],
      joinedAt: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'member-3',
      userId: 'user-3',
      projectId: 'project-1',
      role: MemberRole.MEMBER,
      user: mockUsers[2],
      joinedAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000).toISOString(),
    },
  ],
  'project-2': [
    {
      id: 'member-4',
      userId: 'user-1',
      projectId: 'project-2',
      role: MemberRole.ADMIN,
      user: mockUsers[0],
      joinedAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'member-5',
      userId: 'user-2',
      projectId: 'project-2',
      role: MemberRole.MEMBER,
      user: mockUsers[1],
      joinedAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
    },
  ],
  'project-3': [
    {
      id: 'member-6',
      userId: 'user-1',
      projectId: 'project-3',
      role: MemberRole.ADMIN,
      user: mockUsers[0],
      joinedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    },
  ],
};

// Mock project stats
export const mockProjectStats: { [projectId: string]: ProjectStats } = {
  'project-1': {
    totalTickets: 8,
    todoCount: 3,
    inProgressCount: 3,
    doneCount: 2,
    membersCount: 3,
  },
  'project-2': {
    totalTickets: 5,
    todoCount: 2,
    inProgressCount: 2,
    doneCount: 1,
    membersCount: 2,
  },
  'project-3': {
    totalTickets: 12,
    todoCount: 5,
    inProgressCount: 4,
    doneCount: 3,
    membersCount: 4,
  },
};

// Mock tickets
export const mockTickets: { [projectId: string]: Ticket[] } = {
  'project-1': [
    {
      id: 'ticket-1',
      objectId: 'ticket-1',
      projectId: 'project-1',
      title: 'Implement smart contract for lending pool',
      description: 'Create the main lending pool contract with deposit and borrow functions',
      status: TicketStatus.IN_PROGRESS,
      priority: TicketPriority.HIGH,
      assigneeId: 'user-2',
      assignee: mockUsers[1],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-2',
      objectId: 'ticket-2',
      projectId: 'project-1',
      title: 'Design token economics model',
      description: 'Research and design the tokenomics for the protocol governance token',
      status: TicketStatus.TODO,
      priority: TicketPriority.MEDIUM,
      assigneeId: 'user-1',
      assignee: mockUsers[0],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-3',
      objectId: 'ticket-3',
      projectId: 'project-1',
      title: 'Add liquidation mechanism',
      description: 'Implement automatic liquidation for undercollateralized positions',
      status: TicketStatus.TODO,
      priority: TicketPriority.HIGH,
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-4',
      objectId: 'ticket-4',
      projectId: 'project-1',
      title: 'Write unit tests',
      description: 'Add comprehensive test coverage for all smart contracts',
      status: TicketStatus.IN_PROGRESS,
      priority: TicketPriority.MEDIUM,
      assigneeId: 'user-2',
      assignee: mockUsers[1],
      creatorId: 'user-2',
      creator: mockUsers[1],
      createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-5',
      objectId: 'ticket-5',
      projectId: 'project-1',
      title: 'Security audit preparation',
      description: 'Prepare documentation and code for external security audit',
      status: TicketStatus.DONE,
      priority: TicketPriority.URGENT,
      assigneeId: 'user-1',
      assignee: mockUsers[0],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-6',
      objectId: 'ticket-6',
      projectId: 'project-1',
      title: 'Build frontend dashboard',
      description: 'Create user dashboard to view positions and interact with protocol',
      status: TicketStatus.IN_PROGRESS,
      priority: TicketPriority.MEDIUM,
      assigneeId: 'user-3',
      assignee: mockUsers[2],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-7',
      objectId: 'ticket-7',
      projectId: 'project-1',
      title: 'Deploy to testnet',
      description: 'Deploy all contracts to Sui testnet for testing',
      status: TicketStatus.DONE,
      priority: TicketPriority.HIGH,
      assigneeId: 'user-1',
      assignee: mockUsers[0],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-8',
      objectId: 'ticket-8',
      projectId: 'project-1',
      title: 'Setup monitoring and alerts',
      description: 'Configure monitoring for contract events and system health',
      status: TicketStatus.TODO,
      priority: TicketPriority.LOW,
      creatorId: 'user-2',
      creator: mockUsers[1],
      createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    },
  ],
  'project-2': [
    {
      id: 'ticket-9',
      objectId: 'ticket-9',
      projectId: 'project-2',
      title: 'Design NFT metadata standard',
      description: 'Define the metadata structure for NFTs on the marketplace',
      status: TicketStatus.DONE,
      priority: TicketPriority.HIGH,
      assigneeId: 'user-1',
      assignee: mockUsers[0],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-10',
      objectId: 'ticket-10',
      projectId: 'project-2',
      title: 'Implement auction mechanism',
      description: 'Create smart contracts for English and Dutch auctions',
      status: TicketStatus.IN_PROGRESS,
      priority: TicketPriority.HIGH,
      assigneeId: 'user-2',
      assignee: mockUsers[1],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-11',
      objectId: 'ticket-11',
      projectId: 'project-2',
      title: 'Add royalty system',
      description: 'Implement automatic royalty payments to creators on secondary sales',
      status: TicketStatus.TODO,
      priority: TicketPriority.MEDIUM,
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-12',
      objectId: 'ticket-12',
      projectId: 'project-2',
      title: 'Build collection page',
      description: 'Create UI for browsing and filtering NFT collections',
      status: TicketStatus.IN_PROGRESS,
      priority: TicketPriority.MEDIUM,
      assigneeId: 'user-2',
      assignee: mockUsers[1],
      creatorId: 'user-2',
      creator: mockUsers[1],
      createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    },
    {
      id: 'ticket-13',
      objectId: 'ticket-13',
      projectId: 'project-2',
      title: 'Integrate IPFS storage',
      description: 'Set up IPFS for decentralized storage of NFT assets',
      status: TicketStatus.TODO,
      priority: TicketPriority.HIGH,
      assigneeId: 'user-1',
      assignee: mockUsers[0],
      creatorId: 'user-1',
      creator: mockUsers[0],
      createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
      updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    },
  ],
  'project-3': [],
};

// Helper to get a random delay for simulating API calls
export const simulateDelay = (ms: number = 800) =>
  new Promise(resolve => setTimeout(resolve, ms));
